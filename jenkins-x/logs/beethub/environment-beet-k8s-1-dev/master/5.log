
Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-credential-initializer-2zz7z[0m
{"level":"warn","ts":1587682903.0350907,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1587682903.035855,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-working-dir-initializer-7bdgh[0m
{"level":"warn","ts":1587682904.0503929,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1587682904.0517917,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-place-tools[0m

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-git-source-beethub-environment-beet-k8s-1-s6xhd-mlzf9[0m
{"level":"warn","ts":1587682913.1498072,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1587682913.5477035,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/beethub/environment-beet-k8s-1-dev.git @ v0.0.13 in path /workspace/source"}

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:b42d15887673d4337224ebe6e8c925dd930250e4
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-validate-git[0m
Git configured for user: jenkins-x-bot and email jenkins-x@googlegroups.com

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-verify-preinstall[0m
** boot has only been validated on GKE and EKS, we'd love feedback and contributions for other Kubernetes providers
Running in Batch Mode, execution will continue
writing the following to the OWNERS file for the development environment repository:
approvers:
- AdrianVarelaG
reviewers:
- AdrianVarelaG
Verifying the kubernetes cluster before we try to boot Jenkins X in namespace: **
Trying to lazily create any missing resources to get the current cluster ready to boot Jenkins X
Verifying Ingress...

Using namespace '**' from context named '' on server ''.

Verifying the CLI packages using version stream URL: https://github.com/jenkins-x/jenkins-x-versions.git and git ref: v1.0.375
using version 2.0.1230 of **
CLI packages kubectl, git, helm seem to be setup correctly
NAME               VERSION
**                 2.0.1230
Kubernetes cluster v1.15.9
kubectl            v1.16.0
helm client        2.14.3
git                2.21.1

Verifying Storage...
Storage configuration looks good

Helm installed and configured
Ensuring Helm chart repository https://storage.googleapis.com/chartmuseum.jenkins-x.io is configured
Cluster looks good, you are ready to '** boot' now!


Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-jx-crds[0m
Jenkins X CRDs upgraded with success

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-velero[0m
Modified file /workspace/source/systems/velero/Chart.yaml to set the chart to version 5
Verifying the helm requirements versions in dir: . using version stream URL: https://github.com/jenkins-x/jenkins-x-versions.git and git ref: v1.0.375

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-velero-backups[0m
Modified file /workspace/source/systems/velero-backups/Chart.yaml to set the chart to version 5
Ignoring templates/default-backup.yaml
No requirements file: /tmp/**-helm-apply-960189041/velero-backups/requirements.yaml so not checking for missing versions

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-nginx-controller[0m
Modified file /workspace/source/systems/**ing/Chart.yaml to set the chart to version 5
Verifying the helm requirements versions in dir: . using version stream URL: https://github.com/jenkins-x/jenkins-x-versions.git and git ref: v1.0.375


Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-create-install-values[0m
WARNING: Note that we have only tested TLS support on Google Container Engine with external-dns so far. This may not work!

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-external-dns[0m
Modified file /workspace/source/systems/external-dns/Chart.yaml to set the chart to version 5
Verifying the helm requirements versions in dir: . using version stream URL: https://github.com/jenkins-x/jenkins-x-versions.git and git ref: v1.0.375
Adding missing Helm repo: charts.bitnami.com https://charts.bitnami.com/bitnami
Successfully added Helm repository charts.bitnami.com.

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-cert-manager-crds[0m
customresourcedefinition.apiextensions.k8s.io/challenges.acme.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/orders.acme.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/certificaterequests.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/certificates.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/clusterissuers.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/issuers.cert-manager.io configured

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-cert-manager[0m
Modified file /workspace/source/systems/cm/Chart.yaml to set the chart to version 5
Verifying the helm requirements versions in dir: . using version stream URL: https://github.com/jenkins-x/jenkins-x-versions.git and git ref: v1.0.375
Adding missing Helm repo: charts.jetstack.io https://charts.jetstack.io
Successfully added Helm repository charts.jetstack.io.



Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-acme-issuer-and-certificate[0m
Modified file /workspace/source/systems/acme/Chart.yaml to set the chart to version 5
Ignoring templates/cert-manager-prod-certificate.yaml
Ignoring templates/cert-manager-prod-issuer.yaml
Ignoring templates/cert-manager-staging-certificate.yaml
Ignoring templates/cert-manager-staging-issuer.yaml
No requirements file: /tmp/**-helm-apply-279218986/acme/requirements.yaml so not checking for missing versions


Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-vault[0m
Not attempting to boot Vault as using secret storage: local

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-create-helm-values[0m
defaulting to secret storage scheme local found from requirements file at /workspace/source/**-requirements.yml
defaulting to secret base path to the cluster name beet-k8s-1 found from requirements file at /workspace/source/**-requirements.yml
generated schema file /workspace/source/env/parameters.schema.json from template /workspace/source/env/parameters.tmpl.schema.json
Jenkins X Admin Username ***** [Automatically accepted existing value]
Jenkins X Admin Password *** [Automatically accepted existing value]
Pipeline bot Git username ************ [Automatically accepted existing value]
Pipeline bot Git email address contacto.beet@gmail.com [Automatically accepted existing value]
Pipeline bot Git token *** [Automatically accepted existing value]
HMAC token, used to validate incoming webhooks. Press enter to use the generated token *** [Automatically accepted existing value]
Do you want to configure an external Docker Registry? false [Automatically accepted existing value]

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-create-jx-auth-config[0m
Saved the rendered configuration into templates/**-auth-configmap.yaml file

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-jx-auth-config[0m
Modified file /workspace/source/systems/**-auth/Chart.yaml to set the chart to version 5
Ignoring templates/**-auth-configmap.yaml
No requirements file: /tmp/**-helm-apply-556428158/**-auth/requirements.yaml so not checking for missing versions

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-jenkins-x[0m
Modified file /workspace/source/env/Chart.yaml to set the chart to version 5
Ignoring templates/.gitignore
Applying the kubernetes overrides at ../kubeProviders/kubernetes/values.tmpl.yaml
Verifying the helm requirements versions in dir: . using version stream URL: https://github.com/jenkins-x/jenkins-x-versions.git and git ref: v1.0.375
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.


Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-verify-jenkins-x-environment[0m
Storing the requirements in team settings in the dev environment
Validating git repository for dev environment at URL https://github.com/beethub/environment-beet-k8s-1-dev.git
Validating git repository for production environment at URL https://github.com/beethub/environment-beet-k8s-1-production.git
Using Git provider github at https://github.com
? Using Git user name: ************
? Using organisation: beethub
Creating repository beethub/environment-beet-k8s-1-production
Git repository beethub/environment-beet-k8s-1-production already exists
Pushed Git repository to https://github.com/beethub/environment-beet-k8s-1-production

Validating git repository for staging environment at URL https://github.com/beethub/environment-beet-k8s-1-staging.git
Using Git provider github at https://github.com
? Using Git user name: ************
? Using organisation: beethub
Creating repository beethub/environment-beet-k8s-1-staging
Git repository beethub/environment-beet-k8s-1-staging already exists
Pushed Git repository to https://github.com/beethub/environment-beet-k8s-1-staging

Environment git repositories look good


Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-repositories[0m
Modified file /workspace/source/repositories/Chart.yaml to set the chart to version 5
Ignoring templates/beethub-api-sr.yaml
Ignoring templates/beethub-beet-sr.yaml
Ignoring templates/beethub-file-sr.yaml
Ignoring templates/beethub-receipt-api-sr.yaml
Ignoring templates/default-group.yaml
No requirements file: /tmp/**-helm-apply-947025205/repositories/requirements.yaml so not checking for missing versions
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.


Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-install-pipelines[0m

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-update-webhooks[0m
DEBUG: Finding service url for hook in namespace **
DEBUG: Couldn't find service url, attempting to look up via ingress
DEBUG: found service url https://hook.dev.beethub.com.mx
Updating webhooks for Owner: beethub and Repository: api in git server: https://github.com
Checking hooks for repository beethub/api with user ************
Found matching hook for url https://hook.dev.beethub.com.mx/hook
Updating GitHub webhook for beethub/api for url https://hook.dev.beethub.com.mx/hook
Updating webhooks for Owner: beethub and Repository: beet in git server: https://github.com
Checking hooks for repository beethub/beet with user ************
Found matching hook for url https://hook.dev.beethub.com.mx/hook
Updating GitHub webhook for beethub/beet for url https://hook.dev.beethub.com.mx/hook
Updating webhooks for Owner: beethub and Repository: environment-beet-k8s-1-dev in git server: https://github.com
Checking hooks for repository beethub/environment-beet-k8s-1-dev with user ************
Found matching hook for url https://hook.dev.beethub.com.mx/hook
Updating GitHub webhook for beethub/environment-beet-k8s-1-dev for url https://hook.dev.beethub.com.mx/hook
Updating webhooks for Owner: beethub and Repository: environment-beet-k8s-1-production in git server: https://github.com
Checking hooks for repository beethub/environment-beet-k8s-1-production with user ************
Found matching hook for url https://hook.dev.beethub.com.mx/hook
Updating GitHub webhook for beethub/environment-beet-k8s-1-production for url https://hook.dev.beethub.com.mx/hook
Updating webhooks for Owner: beethub and Repository: environment-beet-k8s-1-staging in git server: https://github.com
Checking hooks for repository beethub/environment-beet-k8s-1-staging with user ************
Found matching hook for url https://hook.dev.beethub.com.mx/hook
Updating GitHub webhook for beethub/environment-beet-k8s-1-staging for url https://hook.dev.beethub.com.mx/hook
Updating webhooks for Owner: beethub and Repository: file in git server: https://github.com
Checking hooks for repository beethub/file with user ************
Found matching hook for url https://hook.dev.beethub.com.mx/hook
Updating GitHub webhook for beethub/file for url https://hook.dev.beethub.com.mx/hook
Updating webhooks for Owner: beethub and Repository: receipt-api in git server: https://github.com
Checking hooks for repository beethub/receipt-api with user ************
Found matching hook for url https://hook.dev.beethub.com.mx/hook
Updating GitHub webhook for beethub/receipt-api for url https://hook.dev.beethub.com.mx/hook

Showing logs for build [32mbeethub-environment-beet-k8s-1-s6xhd-5[0m stage [32mrelease[0m and container [32mstep-verify-installation[0m
verifying the Jenkins X installation in namespace **
verifying pods
Checking pod statuses
POD                                          STATUS
crier-76bb69cdcc-5vwql                       Running
deck-6d894bd6c-fjcxg                         Running
deck-6d894bd6c-wk7f6                         Running
hook-68777d88c7-b5v6s                        Running
hook-68777d88c7-w967q                        Running
horologium-7ffb6d7cfd-6xxt4                  Running
jenkins-x-chartmuseum-5459d54d46-4kmnr       Running
jenkins-x-controllerbuild-5b99f5956c-nrwpk   Running
jenkins-x-controllerrole-8c6bb4b5c-8lgt5     Running
jenkins-x-gcactivities-1587681000-hvd79      Succeeded
jenkins-x-gcactivities-1587682800-2q9tq      Succeeded
jenkins-x-gcpods-1587681000-bh542            Succeeded
jenkins-x-gcpods-1587682800-sznrq            Succeeded
jenkins-x-heapster-886b58f69-7szww           Running
jenkins-x-nexus-7b57bc65dc-w8xjc             Running
pipeline-599c968cc5-rjzrj                    Running
pipelinerunner-85c8d6f64b-hn75r              Running
tekton-pipelines-controller-569d5f977d-q75zc Running
tide-5f6df69548-tw7kz                        Running
Verifying the git config
Verifying username ************ at git server github at https://github.com
Found 1 organisations in git server https://github.com: beethub
Validated pipeline user ************ on git server https://github.com
Git tokens seem to be setup correctly
Installation is currently looking: GOOD
